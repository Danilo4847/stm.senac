<main>
    <header>
        <button class="retornar" (click)="navigationToItinerarios()"><i class="material-icons">arrow_back</i></button>
        <h1>INSERÇÃO DE VIAGEM</h1>
    </header>
    <form action="" (ngSubmit)="create()" [formGroup]="viagemForm" #formDir="ngForm">
        <section class="container-divs">
            <div>
                <label for="">Origem</label>
                <select [(ngModel)]="viagem.sede" name="sede"  id="" formControlName="sede">
                    <option *ngFor="let sede of sedes" value="{{sede.id}}">{{sede.nome}}</option>
                </select>
            </div>
      
            <div>
                <label for="">Data de Saida</label>
                <input name="datetimeSaida" formControlName="datetimeSaida" [(ngModel)]="dtSaida"
                    type="datetime-local">
            </div>
            <div>
                <label for="">Data de Volta</label>
                <input name="datetimeVolta" formControlName="datetimeVolta" [(ngModel)]="dtVolta"
                    type="datetime-local">
            </div>
        </section>
        <section class="container-divs">
            <div>
                <label for="">Veículo</label>
                <select [(ngModel)]="viagem.veiculoId" name="veiculoId" id="" formControlName="veiculoId">
                    <option *ngFor="let veiculo of veiculos" value="{{veiculo.id}}">{{veiculo.modelo}}</option>
                </select>
            </div>
            <div>
                <label for="">Motorista</label>
                <select [(ngModel)]="viagem.motoristaId" name="motoristaId" id="" formControlName="motoristaId">
                    <option *ngFor="let motorista of motoristas" value="{{motorista.id}}">{{motorista.nome}}</option>
                </select>
            </div>

        </section>
        <h3>INSERIR MATERIAL EM UM DESTINO</h3>
        <section class="container-divs">
            <div>
                <section class="add-material-div">
                    <label for="">Material</label>
                    <button  (click)="criarMaterial()"  matTooltip="adicionar um novo material na lista">adicionar material</button>
                </section>
                <select  name="materialID" id="" [(ngModel)]="destino.materiais.materialID" >
                    <option *ngFor="let mat of materiais" value="{{mat.id}}">{{mat.nome}}</option>
                </select>
            </div>
            <div>
                <label for="">QTD</label>
                <input type="number" name="quantidade" [(ngModel)]="destino.materiais.quantidade" >
            </div>
            <div>
                <label for="">Setor Destinatario</label>
                <select name="setorDestino" id="" [(ngModel)]="destino.materiais.setorDestino" >
                    <option *ngFor="let setor of setores" value="{{setor.id}}">{{setor.nome}}</option>
                </select>
            </div>
            <div class="btn-adicionar-material-div">
                <button matTooltip="adicionar material em destino" (click)="addDestino()">+</button>
            </div>
        </section>
        <section class="container-divs">
            <div>
                <label for="">Destinatario</label>
                <select name="destinos" id="" >
                    <option *ngFor="let sede of sedes" value="{{sede.id}}">{{sede.nome}}</option>
                </select>
            </div>
        </section>
        <section class="container-divs">
            <div class="btn-adicionar-parada-div">
                <button>Adicionar destino</button>
            </div>
        </section>
        <div class="div-buttons">
            <button class="btn-cadastrar" (click)="create()">CRIAR VIAGEM</button>
            <!---
            <button class="btn-cancelar" (click)="navigationToItinerarios()">CANCELAR</button>
            -->

        </div>
    </form>

</main>